{"version":3,"file":"grades-CGSoUlBm.js","sources":["../../gradepad/grades.html?html-proxy&index=4.js"],"sourcesContent":["\nimport { auth } from \"./jsScripts/firebase.js\";\nimport { onAuthStateChanged } from \"https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js\";\nimport { loadCourses } from \"./jsScripts/db.js\";\nimport { createNewTable, attachEventListeners } from \"./jsScripts/tableOps.js\";\n\n\nconst semesterId = new URLSearchParams(window.location.search).get(\"semesterId\");\n\nonAuthStateChanged(auth, async (user) => {\n  if (!user || !semesterId) return;\n\n  try {\n    const courses = await loadCourses(semesterId);\n\n    if (courses.length === 0) {\n      // No saved courses ‚Üí just show blank table using existing HTML one\n      createNewTable([], true);\n    } else {\n      courses.forEach((course, index) => {\n        const { id, code, topic, units, evaluations = [] } = course;\n\n        // üß† Use the hardcoded table for the first course only\n        const table = createNewTable(evaluations, index === 0);\n\n        table.dataset.courseId = id;\n\n        const codeInput = table.querySelector(\".courseCode\");\n        const topicInput = table.querySelector(\".courseTopic\");\n        const unitsDropdown = table.querySelector(\".courseUnitsDropdown\");\n\n        if (codeInput) codeInput.value = code || \"\";\n        if (topicInput) topicInput.value = topic || \"\";\n        if (unitsDropdown) unitsDropdown.value = units?.toString() || \"0.50\";\n\n        attachEventListeners(table);\n      });\n    }\n  } catch (err) {\n    console.error(\"‚ùå Failed to load or render courses:\", err);\n  }\n});\n\n    "],"names":["semesterId","onAuthStateChanged","auth","user","courses","loadCourses","createNewTable","course","index","id","code","topic","units","evaluations","table","codeInput","topicInput","unitsDropdown","attachEventListeners","err"],"mappings":"2XAOA,MAAMA,EAAa,IAAI,gBAAgB,OAAO,SAAS,MAAM,EAAE,IAAI,YAAY,EAE/EC,EAAmBC,EAAM,MAAOC,GAAS,CACvC,GAAI,GAACA,GAAQ,CAACH,GAEd,GAAI,CACF,MAAMI,EAAU,MAAMC,EAAYL,CAAU,EAExCI,EAAQ,SAAW,EAErBE,EAAe,CAAA,EAAI,EAAI,EAEvBF,EAAQ,QAAQ,CAACG,EAAQC,IAAU,CACjC,KAAM,CAAE,GAAAC,EAAI,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,YAAAC,EAAc,CAAA,CAAE,EAAKN,EAG/CO,EAAQR,EAAeO,EAAaL,IAAU,CAAC,EAErDM,EAAM,QAAQ,SAAWL,EAEzB,MAAMM,EAAYD,EAAM,cAAc,aAAa,EAC7CE,EAAaF,EAAM,cAAc,cAAc,EAC/CG,EAAgBH,EAAM,cAAc,sBAAsB,EAE5DC,IAAWA,EAAU,MAAQL,GAAQ,IACrCM,IAAYA,EAAW,MAAQL,GAAS,IACxCM,IAAeA,EAAc,OAAQL,GAAA,YAAAA,EAAO,aAAc,QAE9DM,EAAqBJ,CAAK,CAC5B,CAAC,CAEL,OAASK,EAAK,CACZ,QAAQ,MAAM,sCAAuCA,CAAG,CAC1D,CACF,CAAC"}