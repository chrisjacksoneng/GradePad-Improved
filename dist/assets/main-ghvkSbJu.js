import"./auth-CNSAiOnX.js";import"https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";import"https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js";function a(){import.meta.url,import("_").catch(()=>1),(async function*(){})().next()}class i{constructor(){this.init()}async init(){if("serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js");console.log("‚úÖ Service Worker registered:",t),t.addEventListener("updatefound",()=>{const e=t.installing;e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&this.showUpdateNotification()})})}catch(t){console.error("‚ùå Service Worker registration failed:",t)}this.setupInstallPrompt(),this.setupOfflineDetection()}setupInstallPrompt(){let t;window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),t=e,this.showInstallButton(t)}),window.addEventListener("appinstalled",()=>{console.log("‚úÖ GradePad installed successfully!"),this.hideInstallButton()})}showInstallButton(t){const e=document.createElement("button");e.id="install-btn",e.innerHTML="üì± Install GradePad",e.style.cssText="\n      position: fixed;\n      bottom: 20px;\n      right: 20px;\n      background: #2196F3;\n      color: white;\n      border: none;\n      padding: 12px 20px;\n      border-radius: 8px;\n      cursor: pointer;\n      font-size: 14px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n      z-index: 1000;\n    ",e.addEventListener("click",async()=>{if(t){t.prompt();const{outcome:n}=await t.userChoice;console.log("Install prompt result:",n),this.hideInstallButton()}}),document.body.appendChild(e)}hideInstallButton(){const t=document.getElementById("install-btn");t&&t.remove()}setupOfflineDetection(){const t=()=>{const e=navigator.onLine?"online":"offline";console.log("üåê Status: ".concat(e)),navigator.onLine?this.hideOfflineNotification():this.showOfflineNotification()};window.addEventListener("online",t),window.addEventListener("offline",t),t()}showOfflineNotification(){if(document.getElementById("offline-notification"))return;const t=document.createElement("div");t.id="offline-notification",t.innerHTML="üì° You're offline - some features may be limited",t.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      background: #ff9800;\n      color: white;\n      text-align: center;\n      padding: 12px;\n      font-size: 14px;\n      z-index: 1000;\n    ",document.body.appendChild(t)}hideOfflineNotification(){const t=document.getElementById("offline-notification");t&&t.remove()}showUpdateNotification(){const t=document.createElement("div");t.id="update-notification",t.innerHTML='\n      <div style="display: flex; justify-content: space-between; align-items: center; max-width: 600px; margin: 0 auto;">\n        <span>üîÑ New version available!</span>\n        <button onclick="window.location.reload()" style="background: white; color: #2196F3; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">\n          Update\n        </button>\n      </div>\n    ',t.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      background: #2196F3;\n      color: white;\n      padding: 12px;\n      font-size: 14px;\n      z-index: 1001;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n    ",document.body.appendChild(t)}}document.addEventListener("DOMContentLoaded",()=>{new i});export{a as __vite_legacy_guard};
//# sourceMappingURL=main-ghvkSbJu.js.map
