System.register(["./auth-legacy-BHQlUcIz.js","https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js","https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js","https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js"],function(n,e){"use strict";return{setters:[null,null,null,null],execute:function(){class n{constructor(){this.init()}async init(){if("serviceWorker"in navigator)try{const n=await navigator.serviceWorker.register("/sw.js");console.log("‚úÖ Service Worker registered:",n),n.addEventListener("updatefound",()=>{const e=n.installing;e.addEventListener("statechange",()=>{"installed"===e.state&&navigator.serviceWorker.controller&&this.showUpdateNotification()})})}catch(n){console.error("‚ùå Service Worker registration failed:",n)}this.setupInstallPrompt(),this.setupOfflineDetection()}setupInstallPrompt(){let n;window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),n=e,this.showInstallButton(n)}),window.addEventListener("appinstalled",()=>{console.log("‚úÖ GradePad installed successfully!"),this.hideInstallButton()})}showInstallButton(n){const e=document.createElement("button");e.id="install-btn",e.innerHTML="üì± Install GradePad",e.style.cssText="\n      position: fixed;\n      bottom: 20px;\n      right: 20px;\n      background: #2196F3;\n      color: white;\n      border: none;\n      padding: 12px 20px;\n      border-radius: 8px;\n      cursor: pointer;\n      font-size: 14px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n      z-index: 1000;\n    ",e.addEventListener("click",async()=>{if(n){n.prompt();const{outcome:e}=await n.userChoice;console.log("Install prompt result:",e),this.hideInstallButton()}}),document.body.appendChild(e)}hideInstallButton(){const n=document.getElementById("install-btn");n&&n.remove()}setupOfflineDetection(){const n=()=>{const n=navigator.onLine?"online":"offline";console.log(`üåê Status: ${n}`),navigator.onLine?this.hideOfflineNotification():this.showOfflineNotification()};window.addEventListener("online",n),window.addEventListener("offline",n),n()}showOfflineNotification(){if(document.getElementById("offline-notification"))return;const n=document.createElement("div");n.id="offline-notification",n.innerHTML="üì° You're offline - some features may be limited",n.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      background: #ff9800;\n      color: white;\n      text-align: center;\n      padding: 12px;\n      font-size: 14px;\n      z-index: 1000;\n    ",document.body.appendChild(n)}hideOfflineNotification(){const n=document.getElementById("offline-notification");n&&n.remove()}showUpdateNotification(){const n=document.createElement("div");n.id="update-notification",n.innerHTML='\n      <div style="display: flex; justify-content: space-between; align-items: center; max-width: 600px; margin: 0 auto;">\n        <span>üîÑ New version available!</span>\n        <button onclick="window.location.reload()" style="background: white; color: #2196F3; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">\n          Update\n        </button>\n      </div>\n    ',n.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      background: #2196F3;\n      color: white;\n      padding: 12px;\n      font-size: 14px;\n      z-index: 1001;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n    ",document.body.appendChild(n)}}document.addEventListener("DOMContentLoaded",()=>{new n})}}});
//# sourceMappingURL=main-legacy-BRFEJQQK.js.map
