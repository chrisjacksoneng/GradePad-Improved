<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap">
    <link rel="stylesheet" href="styles/features.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22white%22 stroke-width=%222%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22><rect x=%224%22 y=%222%22 width=%2216%22 height=%2220%22 rx=%222%22/><path d=%22m8 6h8%22/><circle cx=%228%22 cy=%2210%22 r=%221%22/><circle cx=%2210%22 cy=%2210%22 r=%221%22/><circle cx=%2212%22 cy=%2210%22 r=%221%22/><circle cx=%228%22 cy=%2213%22 r=%221%22/><circle cx=%2210%22 cy=%2213%22 r=%221%22/><circle cx=%2212%22 cy=%2213%22 r=%221%22/><circle cx=%228%22 cy=%2216%22 r=%221%22/><circle cx=%2210%22 cy=%2216%22 r=%221%22/><circle cx=%2212%22 cy=%2216%22 r=%221%22/><rect x=%2214%22 y=%2210%22 width=%224%22 height=%227%22 rx=%221%22/></svg>">
    <title>Support - GradePad</title>
    <style>
        select {
            background-color: #000000 !important;
            color: #ffffff !important;
            border: 1px solid #ffffff !important;
        }
        
        select option {
            background-color: #000000 !important;
            color: #ffffff !important;
        }
    </style>
</head>
<body>
    <!-- Top Navigation Bar -->
    <header class="top-header">
        <a href="/gradepad/index.html" class="header-left">
            <i data-lucide="calculator" style="width: 32px; height: 32px; color: white; margin-right: 10px;"></i>
            <span class="brand-name">GradePad</span>
        </a>
        <nav class="header-nav">
            <a href="/gradepad/about.html">About</a>
            <a href="/gradepad/features.html">Features</a>
            <a href="/gradepad/support.html">Support</a>
        </nav>
        <div class="header-right">
            <a id="googleSignInButton" href="#" aria-label="Sign in with Google" style="display:inline-flex;align-items:center;gap:8px;padding:10px 14px;background:#ffffff;color:#1f2937;border-radius:6px;font-weight:600;text-decoration:none;border:1px solid rgba(0,0,0,0.08);box-shadow:0 1px 2px rgba(0,0,0,0.06);margin-right:10px;position:relative;">
                <i data-lucide="log-in" style="width:18px;height:18px;color:#1f2937"></i>
                <span>Sign in</span>
                <div id="userMenu" style="display:none;position:absolute;top:100%;right:0;background:#0b0b0b;color:#fff;border:1px solid rgba(255,255,255,0.15);border-radius:8px;padding:8px;min-width:160px;z-index:1000;">
                    <button id="signOut" style="width:100%;background:transparent;border:1px solid rgba(255,255,255,0.2);color:#fff;padding:6px;cursor:pointer;">Sign out</button>
                </div>
            </a>
            <a href="/gradepad/grades.html" class="cta-button">→ Continue as guest</a>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <h1 class="hero-title">How can we <span class="gradient-text">help you?</span></h1>
        <p class="hero-subtitle">Find answers to your questions and get the support you need to succeed with GradePad</p>
    </section>

    <!-- Support Content -->
    <main class="about-content">
        <!-- FAQ Section -->
        <div class="content-section">
            <h2>Frequently Asked Questions</h2>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <h3>Is my data secure?</h3>
                    <i data-lucide="chevron-down" class="faq-icon"></i>
                </div>
                <div class="faq-answer">
                    <p>Yes! Your academic data is encrypted and stored securely. We never share your information with third parties and follow industry-leading security practices.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <h3>Can I use GradePad on my phone?</h3>
                    <i data-lucide="chevron-down" class="faq-icon"></i>
                </div>
                <div class="faq-answer">
                    <p>Absolutely! GradePad is fully responsive and works perfectly on desktop, tablet, and mobile devices. Access your grades anywhere, anytime.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <h3>How do I calculate my GPA?</h3>
                    <i data-lucide="chevron-down" class="faq-icon"></i>
                </div>
                <div class="faq-answer">
                    <p>GradePad automatically calculates your GPA as you add grades. Simply specify how many units each course is worth using the units dropdown, and your GPA will update accordingly based on your course grades.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <h3>How does the AI syllabus parsing work?</h3>
                    <i data-lucide="chevron-down" class="faq-icon"></i>
                </div>
                <div class="faq-answer">
                    <p>Simply click the file icon on any course table, paste your syllabus text, and click "Parse Syllabus." Our AI will automatically extract course information, assignments, due dates, and weights from your syllabus and fill out the table for you. No manual entry required!</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <h3>How do I add a new course?</h3>
                    <i data-lucide="chevron-down" class="faq-icon"></i>
                </div>
                <div class="faq-answer">
                    <p>Click the "+ Course" button on the grades page. A new course table will appear where you can enter the course code, course topic, and add assignments. You can also use the AI parse syllabus feature to automatically fill in all the information from your syllabus.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <h3>Can I edit assignments after adding them?</h3>
                    <i data-lucide="chevron-down" class="faq-icon"></i>
                </div>
                <div class="faq-answer">
                    <p>Yes! You can edit any assignment name, due date, grade, or weight at any time. Just click on the input field and make your changes. The final grade will automatically update when you modify grades or weights.</p>
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <h3>How do I delete a course?</h3>
                    <i data-lucide="chevron-down" class="faq-icon"></i>
                </div>
                <div class="faq-answer">
                    <p>Click the trash can icon on the top left of any course table to delete it. Make sure you really want to delete it, as this action cannot be undone. If you're logged in, the deletion will be saved automatically.</p>
                </div>
            </div>

        </div>

        <!-- Getting Started Section -->
        <div class="content-section">
            <h2>Getting Started Guide</h2>
            <p>You can use GradePad immediately without signing up for a one-time use, but your data won't be saved. To save your data and access it from any device, sign up with Google.</p>
            
            <div class="guide-step">
                <h3>1. Create Your Account</h3>
                <p>Sign up with Google to save your data. No personal information required beyond what you're comfortable sharing. You can also use without signing up for one-time use, but your information won't be saved.</p>
            </div>

            <div class="guide-step">
                <h3>2. Add Your Courses</h3>
                <p>Click "Add Course" and enter your course name, instructor, and any other details you'd like to track.</p>
            </div>

            <div class="guide-step">
                <h3>3. Set Up Assignments</h3>
                <p>Add your assignments, tests, and projects with their due dates and point values. GradePad will help you stay organized. You can also use the parse syllabus feature to automatically fill in all your assignments from your course syllabus.</p>
            </div>

            <div class="guide-step">
                <h3>4. Track Your Progress</h3>
                <p>As you receive grades, enter them into GradePad. Watch your progress in real-time with our smart analytics.</p>
            </div>
        </div>

        <!-- Contact Form Section -->
        <div class="content-section">
            <h2>Contact Us</h2>
            <p>Still need help? Send us a message and we'll get back to you within 24 hours.</p>
            
            <form class="contact-form" onsubmit="submitContactForm(event)">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" required>
                </div>

                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>

                <div class="form-group">
                    <label for="subject">Subject</label>
                    <select id="subject" name="subject" required>
                        <option value="">Select a topic</option>
                        <option value="general">General Question</option>
                        <option value="technical">Technical Issue</option>
                        <option value="billing">Billing Question</option>
                        <option value="feature">Feature Request</option>
                        <option value="bug">Bug Report</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" rows="6" placeholder="Please describe your question or issue in detail..." required></textarea>
                </div>

                <button type="submit" class="submit-button">Send Message</button>
            </form>

            <div class="contact-info">
                <h3>Other Ways to Reach Us</h3>
                <div class="contact-methods">
                    <div class="contact-method">
                        <h4>Email Support</h4>
                        <a href="mailto:gradepadca@gmail.com">gradepadca@gmail.com</a>
                    </div>
                    <div class="contact-method">
                        <h4>Feature Requests</h4>
                        <a href="mailto:gradepadca@gmail.com">gradepadca@gmail.com</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- CTA Section -->
    <section class="cta-section">
        <h2>Ready to start tracking your grades?</h2>
        <a href="/gradepad/grades.html" class="cta-button-large">Get started with GradePad →</a>
    </section>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // FAQ Toggle Function
        function toggleFAQ(element) {
            const answer = element.nextElementSibling;
            const icon = element.querySelector('.faq-icon');
            
            if (answer.style.display === 'block') {
                answer.style.display = 'none';
                icon.style.transform = 'rotate(0deg)';
                element.classList.remove('active');
            } else {
                // Close all other FAQs
                document.querySelectorAll('.faq-answer').forEach(faq => {
                    faq.style.display = 'none';
                });
                document.querySelectorAll('.faq-icon').forEach(icon => {
                    icon.style.transform = 'rotate(0deg)';
                });
                document.querySelectorAll('.faq-question').forEach(question => {
                    question.classList.remove('active');
                });
                
                // Open clicked FAQ
                answer.style.display = 'block';
                icon.style.transform = 'rotate(180deg)';
                element.classList.add('active');
            }
        }

        // Contact Form Submission
        function submitContactForm(event) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            
            // Get form values
            const name = formData.get('name');
            const email = formData.get('email');
            const subject = formData.get('subject');
            const message = formData.get('message');
            
            // Create mailto link
            const mailtoLink = `mailto:gradepadca@gmail.com?subject=${encodeURIComponent(subject + ' - ' + name)}&body=${encodeURIComponent('Name: ' + name + '\nEmail: ' + email + '\n\nMessage:\n' + message)}`;
            
            // Open email client
            window.location.href = mailtoLink;
            
            // Show success message
            alert('Your email client should open with your message. If it doesn\'t, please email us directly at gradepadca@gmail.com');
        }
    </script>
    <script type="module">
        import { signInWithGoogle, onAuthChange, signOutUser } from './jsScripts/firebase.js';
        let btn = document.getElementById('googleSignInButton');
        let guestBtn = document.querySelector('.cta-button');
        const headerRight = document.querySelector('.header-right');
        let isSigningIn = false;
        const googleSvg = `
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 48 48" aria-hidden="true">
                <path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C33.64,6.053,29.084,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"/>
                <path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,16.108,18.961,13,24,13c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657 C33.64,6.053,29.084,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"/>
                <path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.191-5.238C29.211,35.091,26.715,36,24,36 c-5.202,0-9.619-3.317-11.283-7.946l-6.49,5.005C9.51,39.556,16.227,44,24,44z"/>
                <path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.793,2.237-2.231,4.166-4.094,5.571 c0.001-0.001,0.002-0.001,0.003-0.002l6.191,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"/>
            </svg>`;
        const doSignIn = async () => {
            if (isSigningIn) return;
            isSigningIn = true;
            if (btn) { btn.style.pointerEvents = 'none'; btn.style.opacity = '0.7'; }
            try {
                await signInWithGoogle();
            } catch (err) {
                if (!err || err.code !== 'auth/cancelled-popup-request') {
                    console.error('Sign-in failed:', err);
                    alert('Sign-in failed. Please try again.');
                }
            } finally {
                isSigningIn = false;
                if (btn) { btn.style.pointerEvents = ''; btn.style.opacity = ''; }
            }
        };

        const signInClickHandler = (e) => { e.preventDefault(); doSignIn(); };
        let confirmVisible = false;
        const ensureConfirmMenu = () => {
            let confirmEl = document.getElementById('gpSignOutConfirm');
            if (!confirmEl && btn) {
                confirmEl = document.createElement('div');
                confirmEl.id = 'gpSignOutConfirm';
                confirmEl.style.cssText = 'position:absolute;top:100%;right:0;background:#0b0b0b;color:#fff;border:1px solid rgba(255,255,255,0.15);border-radius:8px;padding:8px;min-width:160px;z-index:1000;display:none;';
                const cta = document.createElement('button');
                cta.textContent = 'Sign out';
                cta.style.cssText = 'width:100%;background:#ffffff;border:1px solid rgba(0,0,0,0.08);color:#1f2937;padding:10px 14px;border-radius:6px;cursor:pointer;font-weight:600;';
                cta.addEventListener('click', async (ev) => {
                    ev.preventDefault();
                    await doSignOut();
                });
                confirmEl.appendChild(cta);
                btn.style.position = 'relative';
                btn.appendChild(confirmEl);
            }
            return confirmEl;
        };

        const doSignOut = async () => {
            try { await signOutUser(); } finally {
                confirmVisible = false;
                const menu = document.getElementById('gpSignOutConfirm');
                if (menu) menu.style.display = 'none';
                if (btn) {
                    btn.innerHTML = `${googleSvg}<span>Sign in</span>`;
                    btn.href = '#';
                    btn.removeEventListener('click', toggleConfirmHandler);
                    btn.addEventListener('click', signInClickHandler);
                }
                addGuestButtonIfMissing();
            }
        };

        const toggleConfirmHandler = (e) => {
            e.preventDefault();
            const menu = ensureConfirmMenu();
            if (!menu) return;
            confirmVisible = !confirmVisible;
            menu.style.display = confirmVisible ? 'block' : 'none';
        };

        btn?.addEventListener('click', signInClickHandler);

        const addGuestButtonIfMissing = () => {
            if (!headerRight) return;
            guestBtn = headerRight.querySelector('.cta-button');
            if (!guestBtn) {
                const a = document.createElement('a');
                a.href = '/gradepad/grades.html';
                a.className = 'cta-button';
                a.textContent = '→ Continue as guest';
                headerRight.appendChild(a);
                guestBtn = a;
            }
        };

        onAuthChange((user) => {
            if (user) {
                if (btn) {
                    const newBtn = btn.cloneNode(true);
                    newBtn.innerHTML = `<span>${user.displayName || 'Account'} ▼</span>`;
                    newBtn.href = '#';
                    newBtn.addEventListener('click', toggleConfirmHandler);
                    btn.parentNode.replaceChild(newBtn, btn);
                    btn = newBtn;
                }
                if (guestBtn && headerRight) {
                    headerRight.removeChild(guestBtn);
                }
            } else {
                if (btn) {
                    btn.innerHTML = `${googleSvg}<span>Sign in</span>`;
                    btn.href = '#';
                    btn.removeEventListener('click', toggleConfirmHandler);
                    btn.removeEventListener('click', signInClickHandler);
                    btn.addEventListener('click', signInClickHandler);
                }
                addGuestButtonIfMissing();
            }
        });
    </script>
</body>
</html>

